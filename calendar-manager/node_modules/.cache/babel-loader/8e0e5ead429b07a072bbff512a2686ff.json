{"ast":null,"code":"var _jsxFileName = \"/Users/shiyuezhang/Desktop/myFiles/Chronolo-Geese/calendar-manager/src/pages/SignUp.js\";\nimport React, { useState } from \"react\"; // import { makeStyles } from '@material-ui/core/styles';\n\nimport * as firebase from \"firebase\";\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Link from \"@material-ui/core/Link\";\nimport { AppBar, Toolbar, Typography, Button, IconButton } from '@material-ui/core'; // import { AccountCircle } from '@material-ui/icons';\n\nimport { Link as LinkTo } from \"react-router-dom\";\nimport { useHistory } from 'react-router-dom';\nimport { useFirestore } from 'reactfire';\n\nfunction SignUp() {\n  const [error, setError] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const history = useHistory();\n  const userCollection = useFirestore().collection('users');\n  const firebaseConfig = {\n    apiKey: \"AIzaSyAE6rcfe2QjFdVwwVtQN6dvEITo4mFgVPg\",\n    authDomain: \"chronolo-geese.firebaseapp.com\",\n    databaseURL: \"https://chronolo-geese.firebaseio.com\",\n    projectId: \"chronolo-geese\",\n    storageBucket: \"chronolo-geese.appspot.com\",\n    messagingSenderId: \"538915612147\",\n    appId: \"1:538915612147:web:2264447c48c615794f5e86\",\n    measurementId: \"G-0F8Q557ERB\"\n  }; //TODO get .env working\n\n  const dotenv = require(\"dotenv\");\n\n  const env = dotenv.config().parse;\n\n  if (!firebase.apps.length) {\n    firebase.initializeApp(firebaseConfig);\n  }\n\n  let submit = async () => {\n    console.log(email, password);\n    firebase.auth().createUserWithEmailAndPassword(email, password).then(res => setError(\"you have successfully signed up\")).catch(function (error) {\n      // Handle Errors here.\n      setError(error.message); // return;\n    });\n    firebase.auth().onAuthStateChanged(async function (user) {\n      if (user) {\n        await userCollection.doc(user.uid).get().then(doc => {\n          if (!doc.exists) {\n            userCollection.doc(user.uid).set({\n              displayName: user.displayName,\n              availability: [],\n              classCodes: [],\n              email: user.email,\n              isStudent: true,\n              uid: user.uid\n            });\n          }\n        }).catch(function (error) {\n          console.log('Error getting document:', error);\n        });\n      } else {\n        // No user is signed in.\n        console.log('There is no logged in user');\n      }\n\n      history.push(\"/\");\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    fullWidth: true,\n    spacing: 0,\n    direction: \"column\",\n    alignItems: \"center\",\n    justify: \"center\",\n    style: {\n      paddingTop: \"8%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    direction: \"column\",\n    justify: \"center\",\n    alignItems: \"center\",\n    spacing: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, \"Sign Up\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    id: \"email\",\n    label: \"email\",\n    onChange: e => setEmail(e.target.value),\n    variant: \"outlined\",\n    type: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    id: \"password\",\n    label: \"password\",\n    onChange: e => setPassword(e.target.value),\n    variant: \"outlined\",\n    type: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => submit(),\n    variant: \"contained\",\n    color: \"primary\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, \"Submit\")), /*#__PURE__*/React.createElement(LinkTo, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    component: \"button\",\n    variant: \"body2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  }, \"Log In Instead\"))), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }\n  }, error)));\n}\n\nexport default SignUp;","map":{"version":3,"sources":["/Users/shiyuezhang/Desktop/myFiles/Chronolo-Geese/calendar-manager/src/pages/SignUp.js"],"names":["React","useState","firebase","Grid","TextField","Link","AppBar","Toolbar","Typography","Button","IconButton","LinkTo","useHistory","useFirestore","SignUp","error","setError","email","setEmail","password","setPassword","history","userCollection","collection","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","dotenv","require","env","config","parse","apps","length","initializeApp","submit","console","log","auth","createUserWithEmailAndPassword","then","res","catch","message","onAuthStateChanged","user","doc","uid","get","exists","set","displayName","availability","classCodes","isStudent","push","paddingTop","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\n// import { makeStyles } from '@material-ui/core/styles';\nimport * as firebase from \"firebase\";\n\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Link from \"@material-ui/core/Link\";\nimport { AppBar, Toolbar, Typography, Button, IconButton } from '@material-ui/core';\n// import { AccountCircle } from '@material-ui/icons';\nimport { Link as LinkTo } from \"react-router-dom\";\nimport {useHistory} from 'react-router-dom';\nimport {\n  useFirestore,\n} from 'reactfire';\n\n\n\nfunction SignUp() {\n  const [error, setError] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const history = useHistory();\n  const userCollection = useFirestore().collection('users');\n\n  const firebaseConfig = {\n    apiKey: \"AIzaSyAE6rcfe2QjFdVwwVtQN6dvEITo4mFgVPg\",\n    authDomain: \"chronolo-geese.firebaseapp.com\",\n    databaseURL: \"https://chronolo-geese.firebaseio.com\",\n    projectId: \"chronolo-geese\",\n    storageBucket: \"chronolo-geese.appspot.com\",\n    messagingSenderId: \"538915612147\",\n    appId: \"1:538915612147:web:2264447c48c615794f5e86\",\n    measurementId: \"G-0F8Q557ERB\",\n  };\n\n  //TODO get .env working\n  const dotenv = require(\"dotenv\");\n  const env = dotenv.config().parse;\n\n  if (!firebase.apps.length) {\n    firebase.initializeApp(firebaseConfig);\n  }\n\n  let submit = async () => {\n    console.log(email, password);\n    firebase\n      .auth()\n      .createUserWithEmailAndPassword(email, password)\n      .then((res) => setError(\"you have successfully signed up\"))\n      .catch(function (error) {\n        // Handle Errors here.\n        setError(error.message);\n        // return;\n      });\n      firebase.auth().onAuthStateChanged(async function(user) {\n        if (user) {\n            await userCollection.doc(user.uid).get().then((doc) => {\n              if (!doc.exists) {\n                userCollection.doc(user.uid).set({\n                  displayName: user.displayName,\n                  availability: [],\n                  classCodes: [],\n                  email: user.email,\n                  isStudent: true,\n                  uid: user.uid,\n                });\n              }\n            }).catch(function(error) {\n              console.log('Error getting document:', error);\n            });\n        } else {\n            // No user is signed in.\n            console.log('There is no logged in user');\n        }\n        history.push(\"/\");\n    });\n  };\n\n\n  return (\n    <div> \n      <Grid\n        container\n        fullWidth\n        spacing={0}\n        direction=\"column\"\n        alignItems=\"center\"\n        justify=\"center\"\n        style={{ paddingTop: \"8%\" }}\n      >\n        <Grid\n          container\n          direction=\"column\"\n          justify=\"center\"\n          alignItems=\"center\"\n          spacing={2}\n        >\n          <Grid item>\n            <Typography variant=\"h4\">Sign Up</Typography>\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              fullWidth\n              id=\"email\"\n              label=\"email\"\n              onChange={(e) => setEmail(e.target.value)}\n              variant=\"outlined\"\n              type=\"email\"\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              fullWidth\n              id=\"password\"\n              label=\"password\"\n              onChange={(e) => setPassword(e.target.value)}\n              variant=\"outlined\"\n              type=\"password\"\n            />\n          </Grid>\n          {/* <Grid item xs={12}>\n            <TextField\n              fullWidth\n              id=\"password\"\n              label=\"password\"\n              onChange={(e) => setEmail(e.target.value)}\n              variant=\"outlined\"\n              type=\"password\"\n            />\n          </Grid> */}\n          <Grid item>\n            <Button\n              onClick={() => submit()}\n              variant=\"contained\"\n              color=\"primary\"\n              type=\"submit\"\n            >\n              Submit\n            </Button>\n          </Grid>\n\n          <LinkTo to=\"/login\">\n            <Link component=\"button\" variant=\"body2\">\n              Log In Instead\n            </Link>\n          </LinkTo>\n        </Grid>\n        <Typography variant=\"h6\">{error}</Typography>\n      </Grid>\n    </div>\n  );\n}\n\nexport default SignUp;\n"]},"metadata":{},"sourceType":"module"}