{"ast":null,"code":"import { useFirebaseApp } from '.';\nimport * as firebase from 'firebase/app';\nimport { Observable } from 'rxjs';\nimport { preloadObservable } from '../useObservable';\n\nfunction importSDK(sdk) {\n  switch (sdk) {\n    case 'analytics':\n      return import('firebase/analytics');\n\n    case 'auth':\n      return import('firebase/auth');\n\n    case 'database':\n      return import('firebase/database');\n\n    case 'firestore':\n      return import('firebase/firestore');\n\n    case 'functions':\n      return import('firebase/functions');\n\n    case 'messaging':\n      return import('firebase/messaging');\n\n    case 'performance':\n      return import('firebase/performance');\n\n    case 'remoteConfig':\n      return import('firebase/remote-config');\n\n    case 'storage':\n      return import('firebase/storage');\n  }\n}\n\nfunction proxyComponent(componentName) {\n  var contextualApp;\n\n  var useComponent = function (app) {\n    contextualApp = useFirebaseApp();\n    var sdkSubject = preload(componentName, app || contextualApp);\n\n    if (!sdkSubject.hasValue) {\n      throw sdkSubject.firstEmission;\n    }\n\n    sdkSubject.value;\n    return firebase[componentName];\n  };\n\n  return new Proxy(useComponent, {\n    get: function (target, p) {\n      return target()[p];\n    },\n    apply: function (target, _this, args) {\n      var component = target(args[0]).bind(_this);\n\n      if (!args[0]) {\n        args[0] = contextualApp;\n      }\n\n      return component.apply(void 0, args);\n    }\n  });\n}\n\nexport var useAuth = proxyComponent('auth');\nexport var useAnalytics = proxyComponent('analytics');\nexport var useDatabase = proxyComponent('database');\nexport var useFirestore = proxyComponent('firestore');\nexport var useFunctions = proxyComponent('functions');\nexport var useMessaging = proxyComponent('messaging');\nexport var usePerformance = proxyComponent('performance');\nexport var useRemoteConfig = proxyComponent('remoteConfig');\nexport var useStorage = proxyComponent('storage');\nexport var auth = useAuth;\nexport var analytics = useAnalytics;\nexport var database = useDatabase;\nexport var firestore = useFirestore;\nexport var functions = useFunctions;\nexport var messaging = useMessaging;\nexport var performance = usePerformance;\nexport var remoteConfig = useRemoteConfig;\nexport var storage = useStorage;\n\nfunction preloadFactory(componentName) {\n  return function (options) {\n    var _a, _b;\n\n    return preload(componentName, (_a = options) === null || _a === void 0 ? void 0 : _a.firebaseApp, (_b = options) === null || _b === void 0 ? void 0 : _b.setup).toPromise();\n  };\n}\n\nfunction preload(componentName, firebaseApp, settingsCallback) {\n  if (settingsCallback === void 0) {\n    settingsCallback = function () {};\n  }\n\n  var app = firebaseApp || useFirebaseApp();\n  return preloadObservable(new Observable(function (emitter) {\n    importSDK(componentName).then(function () {\n      var instanceFactory = app[componentName].bind(app);\n      Promise.resolve(settingsCallback(instanceFactory)).then(function () {\n        emitter.next(instanceFactory);\n        emitter.complete();\n      });\n    }).catch(function (e) {\n      emitter.error(e);\n      emitter.complete();\n    });\n  }), \"firebase-sdk:\" + componentName + \":\" + app.name);\n}\n\nexport var preloadAuth = preloadFactory('auth');\nexport var preloadAnalytics = preloadFactory('analytics');\nexport var preloadDatabase = preloadFactory('database');\nexport var preloadFirestore = preloadFactory('firestore');\nexport var preloadFunctions = preloadFactory('functions');\nexport var preloadMessaging = preloadFactory('messaging');\nexport var preloadPerformance = preloadFactory('performance');\nexport var preloadRemoteConfig = preloadFactory('remoteConfig');\nexport var preloadStorage = preloadFactory('storage');","map":{"version":3,"sources":["/Users/shiyuezhang/Desktop/myFiles/Chronolo-Geese/calendar-manager/node_modules/reactfire/firebaseApp/sdk.js"],"names":["useFirebaseApp","firebase","Observable","preloadObservable","importSDK","sdk","proxyComponent","componentName","contextualApp","useComponent","app","sdkSubject","preload","hasValue","firstEmission","value","Proxy","get","target","p","apply","_this","args","component","bind","useAuth","useAnalytics","useDatabase","useFirestore","useFunctions","useMessaging","usePerformance","useRemoteConfig","useStorage","auth","analytics","database","firestore","functions","messaging","performance","remoteConfig","storage","preloadFactory","options","_a","_b","firebaseApp","setup","toPromise","settingsCallback","emitter","then","instanceFactory","Promise","resolve","next","complete","catch","e","error","name","preloadAuth","preloadAnalytics","preloadDatabase","preloadFirestore","preloadFunctions","preloadMessaging","preloadPerformance","preloadRemoteConfig","preloadStorage"],"mappings":"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","sourcesContent":["import { useFirebaseApp } from '.';\nimport * as firebase from 'firebase/app';\nimport { Observable } from 'rxjs';\nimport { preloadObservable } from '../useObservable';\nfunction importSDK(sdk) {\n    switch (sdk) {\n        case 'analytics':\n            return import('firebase/analytics');\n        case 'auth':\n            return import('firebase/auth');\n        case 'database':\n            return import('firebase/database');\n        case 'firestore':\n            return import('firebase/firestore');\n        case 'functions':\n            return import('firebase/functions');\n        case 'messaging':\n            return import('firebase/messaging');\n        case 'performance':\n            return import('firebase/performance');\n        case 'remoteConfig':\n            return import('firebase/remote-config');\n        case 'storage':\n            return import('firebase/storage');\n    }\n}\nfunction proxyComponent(componentName) {\n    var contextualApp;\n    var useComponent = function (app) {\n        contextualApp = useFirebaseApp();\n        var sdkSubject = preload(componentName, app || contextualApp);\n        if (!sdkSubject.hasValue) {\n            throw sdkSubject.firstEmission;\n        }\n        sdkSubject.value;\n        return firebase[componentName];\n    };\n    return new Proxy(useComponent, {\n        get: function (target, p) { return target()[p]; },\n        apply: function (target, _this, args) {\n            var component = target(args[0]).bind(_this);\n            if (!args[0]) {\n                args[0] = contextualApp;\n            }\n            return component.apply(void 0, args);\n        }\n    });\n}\nexport var useAuth = proxyComponent('auth');\nexport var useAnalytics = proxyComponent('analytics');\nexport var useDatabase = proxyComponent('database');\nexport var useFirestore = proxyComponent('firestore');\nexport var useFunctions = proxyComponent('functions');\nexport var useMessaging = proxyComponent('messaging');\nexport var usePerformance = proxyComponent('performance');\nexport var useRemoteConfig = proxyComponent('remoteConfig');\nexport var useStorage = proxyComponent('storage');\nexport var auth = useAuth;\nexport var analytics = useAnalytics;\nexport var database = useDatabase;\nexport var firestore = useFirestore;\nexport var functions = useFunctions;\nexport var messaging = useMessaging;\nexport var performance = usePerformance;\nexport var remoteConfig = useRemoteConfig;\nexport var storage = useStorage;\nfunction preloadFactory(componentName) {\n    return function (options) { var _a, _b; return preload(componentName, (_a = options) === null || _a === void 0 ? void 0 : _a.firebaseApp, (_b = options) === null || _b === void 0 ? void 0 : _b.setup).toPromise(); };\n}\nfunction preload(componentName, firebaseApp, settingsCallback) {\n    if (settingsCallback === void 0) { settingsCallback = function () { }; }\n    var app = firebaseApp || useFirebaseApp();\n    return preloadObservable(new Observable(function (emitter) {\n        importSDK(componentName)\n            .then(function () {\n            var instanceFactory = app[componentName].bind(app);\n            Promise.resolve(settingsCallback(instanceFactory)).then(function () {\n                emitter.next(instanceFactory);\n                emitter.complete();\n            });\n        })\n            .catch(function (e) {\n            emitter.error(e);\n            emitter.complete();\n        });\n    }), \"firebase-sdk:\" + componentName + \":\" + app.name);\n}\nexport var preloadAuth = preloadFactory('auth');\nexport var preloadAnalytics = preloadFactory('analytics');\nexport var preloadDatabase = preloadFactory('database');\nexport var preloadFirestore = preloadFactory('firestore');\nexport var preloadFunctions = preloadFactory('functions');\nexport var preloadMessaging = preloadFactory('messaging');\nexport var preloadPerformance = preloadFactory('performance');\nexport var preloadRemoteConfig = preloadFactory('remoteConfig');\nexport var preloadStorage = preloadFactory('storage');\n"]},"metadata":{},"sourceType":"module"}